
#environment-variables
env = CLUTTER_BACKEND,wayland
env = GDK_BACKEND,wayland,x11
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = GDK_BACKEND,wayland,x11
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XCURSOR_SIZE,18

# █▀▀ ▀▄▀ █▀▀ █▀▀
# ██▄ █░█ ██▄ █▄▄

exec-once = wl-clip-persist --clipboard both &
exec-once = wl-paste --type text --watch cliphist store &
exec-once = wl-paste --type image --watch cliphist store &
exec-once = ~/.config/hypr/scripts/xdg-autostart.sh &
exec-once = dbus-update-activation-environment --systemd --all 
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP & # for XDPH
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP & # for XDPH
exec-once = systemctl --user import-environment QT_QPA_PLATFORMTHEME

exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec-once = hyprpaper &
exec-once = waybar &
exec-once = nm-applet &
exec-once = dunst &


# █▀▄▀█ █▀█ █▄░█ █ ▀█▀ █▀█ █▀█
# █░▀░█ █▄█ █░▀█ █ ░█░ █▄█ █▀▄

monitor=eDP-1,1366x768@60,auto,1


xwayland {
   force_zero_scaling = true
}


# █ █▄░█ █▀█ █░█ ▀█▀
# █ █░▀█ █▀▀ █▄█ ░█░

input {
    kb_layout = fr
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    repeat_rate = 80
    repeat_delay = 250
    numlock_by_default = 0
    left_handed = 0
    follow_mouse = 1
    float_switch_override_focus = 0

    touchpad {
        natural_scroll = 0 
        disable_while_typing = 1 
        clickfinger_behavior = 0 
        middle_button_emulation = 1 
        tap-to-click = 1 
        drag_lock = 0 
    }
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}


# █▀▀ █▀▀ █▄░█ █▀▀ █▀█ ▄▀█ █░░
# █▄█ ██▄ █░▀█ ██▄ █▀▄ █▀█ █▄▄

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 1
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = master 
}


# █▀▄▀█ █ █▀ █▀▀
# █░▀░█ █ ▄█ █▄▄

misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  mouse_move_enables_dpms = true
  enable_swallow = true
  swallow_regex = ^(alacritty)$
  focus_on_activate = true 
}

binds {
    workspace_back_and_forth = 1
    allow_workspace_cycles = 1 
    pass_mouse_when_bound = 0 
  }


# █▀▄ █▀▀ █▀▀ █▀█ █▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█
# █▄▀ ██▄ █▄▄ █▄█ █▀▄ █▀█ ░█░ █ █▄█ █░▀█

decoration {

    # █▀█ █▀█ █░█ █▄░█ █▀▄   █▀▀ █▀█ █▀█ █▄░█ █▀▀ █▀█
    # █▀▄ █▄█ █▄█ █░▀█ █▄▀   █▄▄ █▄█ █▀▄ █░▀█ ██▄ █▀▄

    rounding = 5


    # █▀█ █▀█ ▄▀█ █▀▀ █ ▀█▀ █▄█
    # █▄█ █▀▀ █▀█ █▄▄ █ ░█░ ░█░

    active_opacity = 1
    inactive_opacity = 1


    # █▄▄ █░░ █░█ █▀█
    # █▄█ █▄▄ █▄█ █▀▄

    blur {
      enabled = true
      size = 4
      passes = 2
      new_optimizations = true
      ignore_opacity = true
    }
    blurls = waybar
    blurls = rofi
    blurls = dunst


    # █▀ █░█ ▄▀█ █▀▄ █▀█ █░█░█
    # ▄█ █▀█ █▀█ █▄▀ █▄█ ▀▄▀▄▀
    drop_shadow = yes
    shadow_range = 4
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}


# ▄▀█ █▄░█ █ █▀▄▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█
# █▀█ █░▀█ █ █░▀░█ █▀█ ░█░ █ █▄█ █░▀█

animations {
    enabled = true 

    bezier = overshot, 0.05, 0.9, 0.1, 1.05
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1

    animation = windows, 1, 5, overshot, slide
    animation = windowsOut, 1, 4, smoothOut, slide
    animation = windowsMove, 1, 4, default
    animation = border, 1, 10, default
    animation = fade, 1, 5, smoothIn
    animation = workspaces, 1, 6, default
}


# █░░ ▄▀█ █▄█ █▀█ █░█ ▀█▀ █▀
# █▄▄ █▀█ ░█░ █▄█ █▄█ ░█░ ▄█

dwindle {
    no_gaps_when_only = false
    pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = false # you probably want this
    smart_split = true
    special_scale_factor = 0.5
}

master {
    new_is_master = 1
    new_on_top = 1
    mfact = 0.5
    special_scale_factor = 0.5
    always_center_master = true
}

gestures {
  workspace_swipe=1
  workspace_swipe_fingers=3
  workspace_swipe_distance=400
  workspace_swipe_invert=1
  workspace_swipe_min_speed_to_force=30
  workspace_swipe_cancel_ratio=0.5
  workspace_swipe_create_new=1 
  workspace_swipe_forever=1
}
# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

windowrule = float, file_progress
windowrule = float, confirm
windowrule = float, dialog
windowrule = float, download
windowrule = float, notification
windowrule = float, error
windowrule = float, splash
windowrule = float, confirmreset
windowrule = float, title:Open File
windowrule = float, title:branchdialog
windowrule = float, Lxappearance
windowrule = float, title:^(Opération sur des fichiers en cours)$
windowrule = float, nm-connection
windowrule = float, feh

windowrule = float, pavucontrol
windowrule = float, file-roller
windowrule = fullscreen, wlogout
windowrule = idleinhibit focus, mpv
windowrule = idleinhibit fullscreen, firefox
windowrule = float, title:^(Media viewer)$
windowrule = float, title:^(Volume Control)$
windowrule = float, title:^(Picture-in-Picture)$
windowrule = size 800 600, title:^(Volume Control)$
windowrulev2 = center, title:^(Volume Control)$
windowrulev2 = rounding 10, class:^(Rofi)$
windowrulev2 = maxsize 800 600, class:^(Electron)$
windowrulev2 = center, class:^(Electron)$

# -- Fix odd behaviors in IntelliJ IDEs --
# #! Fix focus issues when dialogs are opened or closed
windowrulev2 = windowdance,class:^(jetbrains-.*)$,floating:1
# #! Fix splash screen showing in weird places and prevent annoying focus takeovers
windowrulev2 = center,class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = nofocus,class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = noborder,class:^(jetbrains-.*)$,title:^(splash)$,floating:1

# #! Center popups/find windows
windowrulev2 = center,class:^(jetbrains-.*)$,title:^( )$,floating:1
windowrulev2 = stayfocused,class:^(jetbrains-.*)$,title:^( )$,floating:1
windowrulev2 = noborder,class:^(jetbrains-.*)$,title:^( )$,floating:1
# #! Disable window flicker when autocomplete or tooltips appear
windowrulev2 = nofocus,class:^(jetbrains-.*)$,title:^(win.*)$,floating:1


# # Zoom Application
# windowrulev2 =  windowdance,class:^(zoom)$,title:^(Zoom - .*)$
windowrulev2 = float,title:^(Zoom - .*)$
windowrulev2 = center,title:^(Zoom - .*)$
windowrulev2 = size 1050 650,title:^(Zoom - .*)$
# # Zoom fix menu popups
# windowrulev2 = float,class:^(zoom)$,title:^(zoom)$
# windowrulev2 = noborder,class:^(zoom)$,title:^(zoom)$
# windowrulev2 = forceinput,class:^(zoom),title:^(zoom)$
# windowrulev2 = noanim,class:^(zoom),title:^(zoom)$
windowrulev2 = nofocus,class:^(zoom)$,initialTitle:^(zoom)$
windowrulev2 = noanim,title:^(zoom)$
windowrulev2 = noborder,title:^(zoom)$
windowrulev2 = noblur,title:^(zoom)$
# windowrulev2 = float,class:^(zoom)$,title:^(Paramètres)$
# windowrulev2 = center,class:^(zoom)$,title:^(Paramètres)$
# windowrulev2 = size 1000 600,class:^(zoom)$,title:^(Paramètres)$

workspace = 1,persistent:true
workspace = 2,persistent:true
workspace = 3,persistent:true
workspace = 4,persistent:true
workspace = 5,persistent:true

# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀

bind = SUPER, Return, exec, alacritty
bind = SUPER, D, exec,killall rofi || rofi -show drun ~/.config/rofi/config.rasi
bind = SUPER SHIFT, D, exec,killall rofi || rofi -show emoji -emoji-format "{emoji}" -modi emoji -theme ~/.config/rofi/tools/emoji.rasi
bind = SUPER, Q, killactive, 
bind = SUPER SHIFT, Q, exit, 
bind = SUPER, E, exec, thunar
bind = SUPER SHIFT, F, togglefloating,
bind = SUPER, F, fullscreen, 1
bind = SUPER, C, centerwindow,
bind = SUPER, S, togglesplit,
bind = SUPER, O, toggleopaque,
bind = SUPER, B, exec, .config/hypr/scripts/waybar-reload.sh
bind = CTRL SHIFT, V, exec, rofi -modi clipboard:.config/rofi/scripts/cliphist-rofi -show clipboard


# Move focus with mainMod + arrow keys
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

# Move focus with mainMod + hjkl
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d


# Switch workspaces with mainMod + [0-9
bind = SUPER, F1, workspace, 1
bind = SUPER, F2, workspace, 2
bind = SUPER, F3, workspace, 3
bind = SUPER, F4, workspace, 4
bind = SUPER, F5, workspace, 5
bind = SUPER, F6, workspace, 6
bind = SUPER, F7, workspace, 7
bind = SUPER, F8, workspace, 8
bind = SUPER, F9, workspace, 9

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = SUPER SHIFT, F1, movetoworkspace, 1
bind = SUPER SHIFT, F2, movetoworkspace, 2
bind = SUPER SHIFT, F3, movetoworkspace, 3
bind = SUPER SHIFT, F4, movetoworkspace, 4
bind = SUPER SHIFT, F5, movetoworkspace, 5
bind = SUPER SHIFT, F6, movetoworkspace, 6
bind = SUPER SHIFT, F7, movetoworkspace, 7
bind = SUPER SHIFT, F8, movetoworkspace, 8
bind = SUPER SHIFT, F9, movetoworkspace, 9

# Scroll through existing workspaces with mainMod + scroll
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1
bind = SUPER SHIFT, TAB, workspace, e-1
bind = SUPER, TAB, workspace, e+1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# Move focus with mainMod + arrow keys
bind = SUPER SHIFT, left, movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up, movewindow, u
bind = SUPER SHIFT, down, movewindow, d

# Move focus with manMod + HJKL
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, L, movewindow, r
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, J, movewindow, d

# █▀▄▀█ █░█ █░░ ▀█▀ █ █▀▄▀█ █▀▀ █▀▄ █ ▄▀█
# █░▀░█ █▄█ █▄▄ ░█░ █ █░▀░█ ██▄ █▄▀ █ █▀█
binde=, XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
binde=, XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binde=, XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binde=, XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

binde=, XF86MonBrightnessUp, exec, backlight set +1
binde=, XF86MonBrightnessDown, exec, backlight set -1
